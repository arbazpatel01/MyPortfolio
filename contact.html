<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact</title>
<!-- Include jQuery first -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Include Toastr.js -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<style>
.contact__form {
  display: flex;
  flex-direction: column;
}

.form__row {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
}

.form__input-div {
  flex: 1;
}

.form__input-div input, .form__input-div textarea {
  width: 100%;
  padding: 10px;
  margin: 5px 0;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.textarea {
  height: 150px;
}

button {
  align-self: center;
  padding: 10px 20px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  display: flex;
  align-items: center;
}

button:hover {
  background-color: #0056b3;
}

button .button__icon {
  margin-left: 10px;
}


  .toast-message {
    color: #ffffff !important; /* Ensure text color is visible */
    font-size: 16px; /* Adjust font size */
  }

  .toast-success {
    background-color: #28a745 !important; /* Success background */
  }

  .toast-error {
    background-color: #dc3545 !important; /* Error background */
  }
</style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/contact.css" />
  </head>
  <body>
    <nav class="nav">
      <!-- Hidden checkbox to toggle the menu -->
      <input type="checkbox" id="menuToggle" class="menu-toggle" />

      <!-- Menu -->
      <div class="nav__menu">
        <ul class="nav__list">
          <li class="nav__item">
            <a href="index.html" class="nav__link">
              <span class="nav__icon"><i class="fas fa-home"></i></span>
              <h3 class="nav__name">Home</h3>
            </a>
          </li>
          <li class="nav__item">
            <a href="about.html" class="nav__link">
              <span class="nav__icon"><i class="fas fa-user"></i></span>
              <h3 class="nav__name">About</h3>
            </a>
          </li>
          <li class="nav__item">
            <a href="portfolio.html" class="nav__link">
              <span class="nav__icon"><i class="fas fa-briefcase"></i></span>
              <h3 class="nav__name">Portfolio</h3>
            </a>
          </li>
          <li class="nav__item">
            <a href="contact.html" class="nav__link">
              <span class="nav__icon"><i class="fa fa-envelope-open"></i></span>
              <h3 class="nav__name">Contact</h3>
            </a>
          </li>
          <li class="nav__item">
            <a href="blog.html" class="nav__link">
              <span class="nav__icon"><i class="fa fa-comments"></i></span>
              <h3 class="nav__name">Blog</h3>
            </a>
          </li>
        </ul>
      </div>

      <!-- Toggle button -->
      <label for="menuToggle" class="nav__toggle">
        <span></span>
        <span></span>
        <span></span>
      </label>
    </nav>

    <section class="contact section">
      <header>
        <div class="contact-header text-center position-relative">
          <h1 class="contact-bg-text">CONTACT</h1>
          <h1 class="section__title">
            <span class="getin">GET IN</span><span class="touch"> TOUCH</span>
          </h1>
        </div>
      </header>
      <div class="contact__container">
        <div>
          <h3 class="contact__title">DON'T BE SHY!</h3>
          <p class="contact__description">
            Feel free to get in touch with me. I am always open to discussing
            new projects, creative ideas, or opportunities to be part of your
            visions.
          </p>
          <div class="contact__info">
            <div class="info__item">
              <i class="fas fa-envelope info__icon"></i>
              <div>
                <span class="info__title">MAIL ME</span>
                <h4 class="info__desc">arbajpatel475@gmail.com</h4>
              </div>
            </div>
            <div class="info__item">
              <i class="fas fa-phone info__icon"></i>
              <div>
                <span class="info__title">CALL ME</span>
                <h4 class="info__desc">+91 9131986582</h4>
              </div>
            </div>
          </div>
          <div class="contact__socials">
            <a href="https://facebook.com" class="contact__social-link"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="https://youtube.com" class="contact__social-link"
              ><i class="fab fa-youtube"></i
            ></a>
            <a href="https://twitter.com" class="contact__social-link"
              ><i class="fab fa-twitter"></i
            ></a>
            <a href="https://dribble.com" class="contact__social-link"
              ><i class="fab fa-dribbble"></i
            ></a>
          </div>
        </div>

<form class="contact__form" id="contactForm" novalidate>
  <!-- First Row (2 columns) -->
  <div class="form__row">
    <div class="form__input-div">
      <input
        type="text"
        placeholder="Your Name"
        class="form__control"
        id="name"
      />
      <small class="error-message"></small>
    </div>
    <div class="form__input-div">
      <input
        type="number"
        placeholder="Mobile"
        class="form__control"
        id="mobile"
      />
      <small class="error-message"></small>
    </div>
  </div>

  <!-- Second Row (2 columns) -->
  <div class="form__row">
    <div class="form__input-div">
      <input
        type="email"
        placeholder="Your Email"
        class="form__control"
        id="email"
      />
      <small class="error-message"></small>
    </div>
    <div class="form__input-div">
      <input
        type="text"
        placeholder="Your Subject"
        class="form__control"
        id="subject"
      />
      <small class="error-message"></small>
    </div>
  </div>

  <!-- Third Row (1 column) -->
  <div class="form__row">
    <div class="form__input-div">
      <textarea
        placeholder="Your Message"
        class="form__control textarea"
        id="message"
      ></textarea>
      <small class="error-message"></small>
    </div>
  </div>

  <button type="submit" class="button">
    <span>SEND MESSAGE</span>
    <span class="button__icon"><i class="fas fa-paper-plane"></i></span>
  </button>
</form>
<!--<script src="https://cdn.emailjs.com/dist/email.min.js"></script>-->
<!--<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>-->

<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script type="text/javascript">
   (function(){
      emailjs.init({
        publicKey: "dn3WdQZR8uvWhqALz",
      });
   })();
</script>

<script>
    document.getElementById("contactForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const name = document.getElementById("name");
  const email = document.getElementById("email");
  const mobile = document.getElementById("mobile");
  const subject = document.getElementById("subject");
  const message = document.getElementById("message");

  let isValid = true;

  // Reset previous error messages
  document.querySelectorAll(".error-message").forEach((small) => {
    small.textContent = "";
  });

  // Name validation
  if (!name.value.trim()) {
    showError(name, "Name is required");
    isValid = false;
  }

  // Mobile validation
  if (!mobile.value.trim()) {
    showError(mobile, "Mobile Number is required");
    isValid = false;
  } else if (!validateMobile(mobile.value.trim())) {
    showError(mobile, "Mobile Number is invalid");
    isValid = false;
  }

  // Email validation
  if (!email.value.trim()) {
    showError(email, "Email is required");
    isValid = false;
  } else if (!validateEmail(email.value.trim())) {
    showError(email, "Invalid email address");
    isValid = false;
  }

  // Subject validation
  if (!subject.value.trim()) {
    showError(subject, "Subject is required");
    isValid = false;
  }

  // Message validation
  if (!message.value.trim()) {
    showError(message, "Message is required");
    isValid = false;
  }

  if (isValid) {
    // Prepare form data for EmailJS
    const formData = {
      name: name.value.trim(),
      email: email.value.trim(),
      mobile: mobile.value.trim(),
      subject: subject.value.trim(),
      message: message.value.trim(),
    };

    console.log("Form Data:", formData);

    // Send email using EmailJS
    emailjs
      .send("service_y1sb1gp", "template_6mcw9iy", formData) // Replace with your Service ID and Template ID
      .then(
        function (response) {
          console.log("SUCCESS!", response.status, response.text);
          toastr.success("Form submitted successfully!");
          document.getElementById("contactForm").reset();
        },
        function (error) {
          console.log("FAILED...", error);
          toastr.error("Failed to send your message. Please try again");
        }
      );
  } else {
    toastr.error("Please fill out all required fields correctly.");
  }
});

function showError(input, message) {
  const errorElement = input.nextElementSibling;
  errorElement.textContent = message;
  errorElement.style.color = "red";
}

function validateEmail(email) {
  const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
  return emailRegex.test(email);
}

function validateMobile(mobile) {
  const mobileRegex = /^[0-9]{10}$/; // Validate 10 digit mobile number
  return mobileRegex.test(mobile);
}

</script>

<style>
  .error-message {
    font-size: 0.9rem;
    margin-top: 4px;
    display: block;
  }
</style>
      </div>
    </section>
  </body>
</html>
